<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download and load the DOSE dataset into memory — getDOSE • subincomeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download and load the DOSE dataset into memory — getDOSE"><meta name="description" content="This function downloads the DOSE dataset from Zenodo and loads it into memory as a dataframe.
It allows for optional filtering of the dataset based on specific years and/or countries.
The country format can be specified to ensure correct filtering. The function automatically
handles different download methods based on system capabilities."><meta property="og:description" content="This function downloads the DOSE dataset from Zenodo and loads it into memory as a dataframe.
It allows for optional filtering of the dataset based on specific years and/or countries.
The country format can be specified to ensure correct filtering. The function automatically
handles different download methods based on system capabilities."><meta property="og:image" content="https://pablogguz.github.io/subincomeR/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@pablogguz_"><meta name="twitter:site" content="@pablogguz_"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">subincomeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/regional-convergence.html">Use case: regional convergence</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pablogguz/subincomeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Download and load the DOSE dataset into memory</h1>
      <small class="dont-index">Source: <a href="https://github.com/pablogguz/subincomeR/blob/v0.3.0/R/getDOSE.R" class="external-link"><code>R/getDOSE.R</code></a></small>
      <div class="d-none name"><code>getDOSE.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function downloads the DOSE dataset from Zenodo and loads it into memory as a dataframe.
It allows for optional filtering of the dataset based on specific years and/or countries.
The country format can be specified to ensure correct filtering. The function automatically
handles different download methods based on system capabilities.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getDOSE</span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  countries <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format_countries <span class="op">=</span> <span class="st">"country.name"</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-years">years<a class="anchor" aria-label="anchor" href="#arg-years"></a></dt>
<dd><p>Optional vector of years for which to filter the DOSE dataset.
If NULL (the default), data for all years are returned.</p></dd>


<dt id="arg-countries">countries<a class="anchor" aria-label="anchor" href="#arg-countries"></a></dt>
<dd><p>Optional vector of countries for which to filter the DOSE dataset.
Countries can be specified in ISO2C, ISO3C, or country name format.
Use the format_countries parameter to specify the format of the countries vector.</p></dd>


<dt id="arg-format-countries">format_countries<a class="anchor" aria-label="anchor" href="#arg-format-countries"></a></dt>
<dd><p>The format of the countries provided in the countries parameter.
Acceptable values are 'iso2c', 'iso3c', or 'country.name'. Default is 'country.name'.
This parameter is used only if the countries parameter is not NULL.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Optional character string specifying where to store the downloaded data.
If NULL (default), uses tempdir().</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataframe containing the filtered DOSE dataset based on the input parameters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Load the entire dataset</span></span></span>
<span class="r-in"><span><span class="va">data_all</span> <span class="op">&lt;-</span> <span class="fu">getDOSE</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> DOSE dataset not found. Downloading...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Download successful using curl</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> DOSE dataset successfully downloaded and stored in /tmp/RtmppXOhEk</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading DOSE dataset...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load dataset filtered by specific years</span></span></span>
<span class="r-in"><span><span class="va">data_2018_2019</span> <span class="op">&lt;-</span> <span class="fu">getDOSE</span><span class="op">(</span>years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2018</span>, <span class="fl">2019</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading DOSE dataset...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load dataset filtered by specific countries (using ISO3C codes)</span></span></span>
<span class="r-in"><span><span class="va">data_usa_can</span> <span class="op">&lt;-</span> <span class="fu">getDOSE</span><span class="op">(</span>countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'USA'</span>, <span class="st">'CAN'</span><span class="op">)</span>, format_countries <span class="op">=</span> <span class="st">'iso3c'</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading DOSE dataset...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load dataset filtered by year and countries (using country names)</span></span></span>
<span class="r-in"><span><span class="va">data_mex_2019</span> <span class="op">&lt;-</span> <span class="fu">getDOSE</span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2019</span>, countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Mexico'</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                         format_countries <span class="op">=</span> <span class="st">'country.name'</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading DOSE dataset...</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pablo García Guzmán.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

